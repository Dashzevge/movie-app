(this.webpackJsonpmoviesearch=this.webpackJsonpmoviesearch||[]).push([[3],{46:function(e,t,n){"use strict";n.r(t),n.d(t,"Home",(function(){return j}));var r=n(0),a=n.n(r),c=n(18),l=n(25),u=n(17),o=n(8);const i=e=>{let{movie:t}=e;return a.a.createElement("div",{className:"card"},a.a.createElement("img",{src:t.posterUrl||o.g,className:"card-img-top",alt:t.title}),a.a.createElement("div",{className:"card-body"},a.a.createElement("h5",{className:"card-title"},t.title),a.a.createElement("p",{className:"card-text"},a.a.createElement("small",{className:"text-muted"},"Rate: ",t.rating)),a.a.createElement(u.b,{to:"/movie/"+t.id,className:"btn btn-primary"},"Read more")))},s=e=>{let{movies:t}=e;return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},t.map(e=>a.a.createElement("div",{key:e.id,className:"col-md-3 mb-3"},a.a.createElement(i,{movie:e})))))},m=e=>{var t;let{genres:n,selectedGenre:r,search:c,onSearchChange:l,onGenreSelect:u}=e;return a.a.createElement("div",{className:"row justify-content-md-center"},a.a.createElement("div",{className:"input-group mb-3",id:"buttonGroup"},a.a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},r?null===(t=n.find(e=>e.title===r))||void 0===t?void 0:t.title:"All Genres"),a.a.createElement("ul",{className:"dropdown-menu"},a.a.createElement("li",{key:"all"},a.a.createElement("button",{className:"dropdown-item",onClick:()=>u("")},"All Genres")),n.map(e=>a.a.createElement("li",{key:e.id},a.a.createElement("button",{className:"dropdown-item",onClick:()=>u(e.title)},e.title)))),a.a.createElement("input",{type:"search",className:"form-control","aria-label":"Text input with dropdown button",value:c,onChange:l})))},d=e=>{let{currentPage:t,totalPages:n,onPageChange:r,onPageSizeChange:c}=e;return a.a.createElement("div",{className:"row md-3"},a.a.createElement("div",{className:"col d-flex justify-content-between"},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"pageSize",className:"form-label"},"Page Size:"),a.a.createElement("select",{id:"pageSize",className:"form-select",onChange:c},a.a.createElement("option",{value:25},"25"),a.a.createElement("option",{value:30},"30"),a.a.createElement("option",{value:50},"50"))),a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-outline-secondary",onClick:()=>r(t-1),disabled:1===t},"Previous"),a.a.createElement("span",{className:"mx-2"},"Page ",t," of ",n),a.a.createElement("button",{className:"btn btn-outline-secondary",onClick:()=>r(t+1),disabled:t===n},"Next"))))};var b=n(21),f=n(22),v=n(23),g=n(24);function E(e,t,n){var a=this,c=Object(r.useRef)(null),l=Object(r.useRef)(0),u=Object(r.useRef)(null),o=Object(r.useRef)([]),i=Object(r.useRef)(),s=Object(r.useRef)(),m=Object(r.useRef)(e),d=Object(r.useRef)(!0);m.current=e;var b="undefined"!=typeof window,f=!t&&0!==t&&b;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var v=!!(n=n||{}).leading,g=!("trailing"in n)||!!n.trailing,E="maxWait"in n,p="debounceOnServer"in n&&!!n.debounceOnServer,O=E?Math.max(+n.maxWait||0,t):null;return Object(r.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]),Object(r.useMemo)((function(){var e=function(e){var t=o.current,n=i.current;return o.current=i.current=null,l.current=e,s.current=m.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(u.current),u.current=f?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!d.current)return!1;var n=e-c.current;return!c.current||n>=t||n<0||E&&e-l.current>=O},j=function(t){return u.current=null,g&&o.current?e(t):(o.current=i.current=null,s.current)},h=function e(){var a=Date.now();if(r(a))return j(a);if(d.current){var u=t-(a-c.current),o=E?Math.min(u,O-(a-l.current)):u;n(e,o)}},N=function(){if(b||p){var m=Date.now(),f=r(m);if(o.current=[].slice.call(arguments),i.current=a,c.current=m,f){if(!u.current&&d.current)return l.current=c.current,n(h,t),v?e(c.current):s.current;if(E)return n(h,t),e(c.current)}return u.current||n(h,t),s.current}};return N.cancel=function(){u.current&&(f?cancelAnimationFrame(u.current):clearTimeout(u.current)),l.current=0,o.current=c.current=i.current=u.current=null},N.isPending=function(){return!!u.current},N.flush=function(){return u.current?j(Date.now()):s.current},N}),[v,E,t,O,g,f,b,p])}function p(e,t){return e===t}function O(e,t){return t}const j=()=>{const e=Object(c.b)(),t=Object(c.c)(e=>e.movies),n=Object(c.c)(e=>e.genres),{currentPage:u,pageSize:i,totalPages:j}=Object(c.c)(e=>e.pagination),{searchTerm:h,selectedGenre:N}=Object(c.c)(e=>e.search),[w]=function(e,t,n){var a=n&&n.equalityFn||p,c=Object(r.useReducer)(O,e),l=c[0],u=c[1],o=E(Object(r.useCallback)((function(e){return u(e)}),[u]),t,n),i=Object(r.useRef)(e);return a(i.current,e)||(o(e),i.current=e),a(l,e)&&o.cancel(),[l,o]}(h,100);Object(r.useEffect)(()=>{(async()=>{try{const t=await Object(l.b)(o.a.MOVIES,u,i,w,N);e(Object(b.b)(t.data)),e(Object(v.d)(t.totalPages))}catch(t){console.error("Failed to getAllmovies",t)}})()},[u,i,w,N,e]),Object(r.useEffect)(()=>{(async()=>{try{const t=await Object(l.a)(o.a.GENRES);e(Object(f.b)(t.data))}catch(t){console.error("Failed to getAllGenres",t)}})()},[e]);return a.a.createElement("div",{className:"container"},a.a.createElement(m,{genres:n,selectedGenre:N,search:h,onSearchChange:t=>{e(Object(g.b)(t.target.value))},onGenreSelect:t=>{e(Object(g.c)(t))}}),a.a.createElement(d,{currentPage:u,totalPages:j,onPageChange:t=>{e(Object(v.b)(t))},onPageSizeChange:t=>{e(Object(v.c)(Number(t.target.value)))}}),a.a.createElement("div",{className:"row"},a.a.createElement(s,{movies:t})))};t.default=j}}]);
//# sourceMappingURL=3.73e1e30b.chunk.js.map