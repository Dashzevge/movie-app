(this.webpackJsonpmoviesearch=this.webpackJsonpmoviesearch||[]).push([[3],{44:function(e,t,a){"use strict";a.r(t),a.d(t,"Home",(function(){return g}));var n=a(0),l=a.n(n),c=a(18),r=a(23),s=a(17),o=a(7);const m=e=>{let{movie:t}=e;return l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:t.posterUrl||o.f,className:"card-img-top",alt:t.title}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},t.title),l.a.createElement("p",{className:"card-text"},l.a.createElement("small",{className:"text-muted"},"Rate: ",t.rating)),l.a.createElement(s.b,{to:"/movie/"+t.id,className:"btn btn-primary"},"Read more")))},i=e=>{let{movies:t}=e;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},t.map(e=>l.a.createElement("div",{key:e.id,className:"col-md-3 mb-3"},l.a.createElement(m,{movie:e})))))},d=e=>{var t;let{genres:a,selectedGenre:n,search:c,onSearchChange:r,onGenreSelect:s}=e;return l.a.createElement("div",{className:"row justify-content-md-center"},l.a.createElement("div",{className:"input-group mb-3",id:"buttonGroup"},l.a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},n?null===(t=a.find(e=>e.title===n))||void 0===t?void 0:t.title:"All Genres"),l.a.createElement("ul",{className:"dropdown-menu"},l.a.createElement("li",{key:"all"},l.a.createElement("button",{className:"dropdown-item",onClick:()=>s("")},"All Genres")),a.map(e=>l.a.createElement("li",{key:e.id},l.a.createElement("button",{className:"dropdown-item",onClick:()=>s(e.title)},e.title)))),l.a.createElement("input",{type:"search",className:"form-control","aria-label":"Text input with dropdown button",value:c,onChange:r})))},b=e=>{let{currentPage:t,totalPages:a,onPageChange:n,onPageSizeChange:c}=e;return l.a.createElement("div",{className:"row md-3"},l.a.createElement("div",{className:"col d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"pageSize",className:"form-label"},"Page Size:"),l.a.createElement("select",{id:"pageSize",className:"form-select",onChange:c},l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:30},"30"),l.a.createElement("option",{value:50},"50"))),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-outline-secondary",onClick:()=>n(t-1),disabled:1===t},"Previous"),l.a.createElement("span",{className:"mx-2"},"Page ",t," of ",a),l.a.createElement("button",{className:"btn btn-outline-secondary",onClick:()=>n(t+1),disabled:t===a},"Next"))))};var u=a(21),E=a(22);const g=()=>{const e=Object(c.b)(),t=Object(c.c)(e=>e.movies),a=Object(c.c)(e=>e.movieFilters.genres),{currentPage:s,pageSize:m,totalPages:g}=Object(c.c)(e=>e.movieFilters),{searchTerm:v,selectedGenre:p}=Object(c.c)(e=>e.movieFilters);Object(n.useEffect)(()=>{(async()=>{try{const t=await Object(r.b)(o.a.MOVIES,s,m,v,p);e(Object(u.b)(t.data)),e(Object(E.g)(t.totalPages))}catch(t){console.error("Failed to getAllMovies",t)}})()},[s,m,v,p,e]),Object(n.useEffect)(()=>{(async()=>{try{const t=await Object(r.a)(o.a.GENRES);e(Object(E.b)(t.data))}catch(t){console.error("Failed to getAllGenres",t)}})()},[e]);return l.a.createElement("div",{className:"container"},l.a.createElement(d,{genres:a,selectedGenre:p,search:v,onSearchChange:t=>{e(Object(E.e)(t.target.value))},onGenreSelect:t=>{e(Object(E.f)(t))}}),l.a.createElement(b,{currentPage:s,totalPages:g,onPageChange:t=>{e(Object(E.c)(t))},onPageSizeChange:t=>{e(Object(E.d)(Number(t.target.value)))}}),l.a.createElement("div",{className:"row"},l.a.createElement(i,{movies:t})))};t.default=g}}]);
//# sourceMappingURL=3.46d9ae79.chunk.js.map